<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui">

    <f:view locale="#{internazionalizacionBean.localidad}">
        <h:head>
            <title>.:Mouth System:.</title>
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1.0" />
            <!--css-->  
            <h:outputStylesheet library="css" name="dashboard.css" />
            <h:outputStylesheet library="css" name="bootstrap.css" />
            <h:outputStylesheet library="css" name="bootstrap-grid.css" />
            <h:outputStylesheet library="css" name="bootstrap-reboot.css" />
            <h:outputStylesheet library="css" name="all.css" />
        </h:head>
        <h:body>

            <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                <h1 class="h2"><i class="fa fa-calendar"></i> #{txt['ms.citas']}</h1>
                <div class="btn-toolbar mb-2 mb-md-0">
                    <div class="btn-group mr-2">
                        <button type="button" class="btn btn-sm btn-outline-success" data-toggle="modal" data-target="#new" >
                            <span data-feather="calendar"></span>
                            #{txt['btn.botonNuevaCita']} <i class="fa fa-address-book"></i>
                        </button>
                        <button type="button" class="btn btn-sm btn-outline-danger"  data-toggle="modal" data-target="#view" >
                            <span data-feather="calendar"></span>
                            #{txt['btn.botonAgenda']} <i class="fa fa-calendar"></i>
                        </button>
                    </div>


                </div>
            </div>

            <div class="container-fluid">
                <div class="row">

                    <!--Tarjetas de citas proximas-->
                    <div class="grey-bg container-fluid mb-5">
                        <section id="minimal-statistics">
                            <div class="col-xl-12 col-sm-12  col-12 col-md-4"> 
                                <div class="card shadow">
                                    <div class="card-content">
                                        <div class="card-body">
                                            <div class="media d-flex">
                                                <div class="align-self-center mr-2">
                                                    <h:graphicImage class="img-thumbnail rounded-circle hidden-xs" width="80px" height="80px" value="https://upload.wikimedia.org/wikipedia/commons/thumb/c/cf/Angular_full_color_logo.svg/1200px-Angular_full_color_logo.svg.png"></h:graphicImage>
                                                </div>
                                                <div class="media-body text-right">
                                                    <h3 class="lead  text-left text-muted"> <i class="fa fa-user-alt"></i> Cristofer Jaimez</h3>
                                                    <span class="lead text-left  text-muted"><h6><i class="fa fa-teeth"></i> Consulta General</h6></span>
                                                </div>



                                            </div>

                                            <div class="mt-1 stats text-right" style="font-size: 0.8em;"> <i class="fa fa-calendar-alt"></i> 23/02/2020 <i class="fa fa-clock"></i> 02:00 pm   <span class="text-info"> Activa</span> </div>

                                        </div>

                                    </div>
                                </div>




                            </div>
                        </section>


                    </div>
                </div>
            </div>



            <!--mensajes-->




            <!--modal de citas-->

            <div class="modal fade" id="new" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title text-center lead text-muted" id="exampleModalLabel"><i class="fa fa-calendar-alt fa-1x"></i> Agendar Consulta</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <h:form id="form">

                                <div class="form-group">
                                    <h:outputLabel for="numDoc"  class="lead text-muted"><i class="fa fa-users fa-1x"></i> Buscar Paciente</h:outputLabel>
                                    <h:inputText  required="true" id="numDoc"   value="#{searchPatientControllers.numDoc}"  class="form-control"     a:placeholder=" #{txt['ms.placeHolder']}" label="dato">
                                        <f:ajax event="keyup" render="view"  listener="#{searchPatientControllers.searchUser()}" ></f:ajax>
                                    </h:inputText>


                                    <h:panelGrid id="view" class="col-md-12">

                                        <div class="">
                                           

                                            <c:if test="#{searchPatientControllers.msm.equalsIgnoreCase('userOk')}" >
                                                <div class="alert alert-success" role="alert">
                                                    Usuario Encontrado!!! #{searchPatientControllers.usuario.priNom}
                                                </div>
                                            </c:if>



                                            <c:if test="#{searchPatientControllers.msm.equalsIgnoreCase('userError02')}" >
                                                <div class="alert alert-warning" role="alert">
                                                    Usuario no Encontrado  
                                                </div>
                                            </c:if>

                                        </div>

                                    </h:panelGrid>


                                    <div class="form-group">
                                        <label for="nacionalidad" class="lead text-muted"><i class="fa fa-laptop-medical fa-1x"></i> Motivo de Cita</label>
                                        <h:selectOneMenu value="#{citasControllers.cita.descripcion}" required="true" class="form-control" label="Alerta">
                                            <f:selectItem itemLabel="" itemValue=""></f:selectItem>
                                            <f:selectItem itemLabel="Colombiano" itemValue="Colombiano"></f:selectItem>
                                            <f:selectItem itemLabel="Extranjero" itemValue="Extranjero"></f:selectItem>
                                        </h:selectOneMenu>
                                        <h:message for="nacionalidad" style="color:red; "><i class="bg-danger fas fa-exclamation-circle"></i></h:message>
                                    </div>


                                    <div class="row ">
                                        <div class="col">
                                            <div class="form-group">
                                                <h:outputLabel for="fechaCita" class="lead text-muted"> <i class="fa fa-calendar-check fa-1x"></i>  Fecha </h:outputLabel>
                                                <h:inputText id="fechaCita"  pt:type="datetime-local" value="#{citasControllers.cita.fecha_hora}" required="true" class="form-control"  a:placeholder="#{txt['sign.placeholderNombre']}" label="Alerta">
                                                    <f:convertDateTime dateStyle="full" pattern="yyyy-mm-ddThh:mm"/>  
                                                </h:inputText>
                                                <h:message for="fechaCita" style=" color:red; "><i class="bg-danger fas fa-exclamation-circle"></i></h:message>
                                            </div>

                                        </div>

                                    </div>
                                </div>

                            </h:form>


                            <div class="modal-footer">
                                <button type="button" class="btn btn-dark" data-dismiss="modal"><i class="fa fa-times-circle"> </i></button>
                                <button type="button" class="btn btn-success"> Agendar <i class="fa fa-calendar-check"></i> </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>  

            <!--js--> 
            <h:outputScript library="js" name="jquery-1.7.js"/> 
            <h:outputScript library="js" name="all.min.js"/> 
            <h:outputScript library="js" name="bootstrap.js"/> 
            <h:outputScript library="js" name="alerts.js"/> 

        </h:body>
    </f:view>
</html>


